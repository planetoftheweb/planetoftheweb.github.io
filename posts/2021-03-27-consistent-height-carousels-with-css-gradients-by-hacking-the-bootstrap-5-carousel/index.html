<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Raybo.org</title>

    <meta name="description" content="The Bootstrap Carousel is one of the the most popular components in Bootstrap 5, but we have the technology to improve it and at the same time learn about one of my favorite new css features object-position and object-fit." />
    <meta property="og:title" content="Hacking the Bootstrap 5 Carousel: Consistent Height Carousels with CSS Gradients and Object Fit" />
    <meta property="og:description" content="The Bootstrap Carousel is one of the the most popular components in Bootstrap 5, but we have the technology to improve it and at the same time learn about one of my favorite new css features object-position and object-fit." />
    <meta property="og:image" content="https://raybo.org/images/posts/hackingbootstrap-gradients.png" />
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="https://raybo.org/posts/2021-03-27-consistent-height-carousels-with-css-gradients-by-hacking-the-bootstrap-5-carousel/">
    <meta name="twitter:title" content="Hacking the Bootstrap 5 Carousel: Consistent Height Carousels with CSS Gradients and Object Fit">
    <meta name="twitter:description" content="The Bootstrap Carousel is one of the the most popular components in Bootstrap 5, but we have the technology to improve it and at the same time learn about one of my favorite new css features object-position and object-fit.">
    <meta name="twitter:image" content="https://raybo.org/images/posts/hackingbootstrap-gradients.png">

    <link rel="stylesheet" href="/css/style.css" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/prism-themes@1.6.0/themes/prism-shades-of-purple.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Asap:wght@400;700&family=Roboto+Slab:wght@100;300;500;700&display=swap" rel="stylesheet">
 
    <script defer src="https://use.fontawesome.com/releases/v5.7.2/js/all.js" integrity="sha384-0pzryjIRos8mFBWMzSSZApWtPl/5++eIfzYmTgBBmXYdhvxPc+XcFEk+zJwDgWbP" crossorigin="anonymous"></script>  
    <script defer src="https://cdn.jsdelivr.net/npm/vue@2.6.10/dist/vue.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    <script defer src="/js/lite-yt-embed.js"></script>
    <script defer src="/js/script.js"></script>
 
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-58547762-1"></script>
    <script async>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-58547762-1');
    </script>

    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/images/favicon/site.webmanifest">
  </head>
  <body class="position-relative">
    <nav class="site-nav family-sans navbar navbar-expand-md navbar-dark  fixed-top  py-0">
  <div class="container-fluid">
    <button type="button" class="navbar-toggler my-2 my-md-0" data-toggle="collapse" data-target="#myTogglerNav" aria-controls="myTogglerNav" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="navbar-brand text-lowercase">
      <a class="text-white text-decoration-none" href="/"><i class="icon icon-pow"></i>Raybo.org</a> 
    </div>

    <div class="collapse navbar-collapse text-center mt-0" id="myTogglerNav">
      <div class="navbar-nav ms-auto fw-regular text-uppercase">
        
        <a class="d-none nav-item nav-link" href="#page-hero">hero target</a>
        <a class="d-none nav-item nav-link" href="#main-content">nav target</a>        
        <a class="nav-item nav-link fw-bold  text-light" href="/"><i class="fas fa-home"></i></a>
        
            <a class="nav-item nav-link" href="/courses/0/">courses</a>
            
            <a class="nav-item nav-link" href="/videos/0/">videos</a>
            
            <a class="nav-item nav-link" href="/posts/0/">posts</a>
            
            <a class="nav-item nav-link" href="/newsletter/0/">newsletter</a>
            <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-user text-white"></i>
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
              <li><a class="dropdown-item text-capitalize" href="/about">About Me</a></li>
              <li><hr class="dropdown-divider"></li><li>
                  <a class="dropdown-item text-capitalize" href="https://linkedin.com/in/planetoftheweb">
                  <i class="fab fa-linkedin text-secondary me-1"></i> linkedin
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://github.com/planetoftheweb">
                  <i class="fab fa-github text-secondary me-1"></i> github
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://www.joinclubhouse.com/planetoftheweb">
                  <i class="fas fa-user-friends text-secondary me-1"></i> clubhouse
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://twitter.com/planetoftheweb">
                  <i class="fab fa-twitter text-secondary me-1"></i> twitter
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://dribbble.com/planetoftheweb">
                  <i class="fab fa-dribbble text-secondary me-1"></i> dribble
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://www.flickr.com/photos/planetoftheweb/sets/72157602932636630/">
                  <i class="fab fa-flickr text-secondary me-1"></i> flickr
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://www.youtube.com/user/planetoftheweb">
                  <i class="fab fa-youtube text-secondary me-1"></i> youtube
              </a>
                </li><li>
                  <a class="dropdown-item text-capitalize" href="https://www.instagram.com/planetoftheweb">
                  <i class="fab fa-instagram text-secondary me-1"></i> instagram
              </a>
                </li></ul>
          </div>
        </div>
      </div>
      <div class="searchbox pl-2 py-2">
    <input
      type="text"
      v-model="query"
      class="form-control text-white border m-auto"
      :class="[isActive ? 'wide' : 'short']"
      @focus="isActive=true"
      @blur.prevent="handleBlur"
      ref="searchinput"
      style="background: transparent;"
      aria-describedby="searchinput"
      autocomplete="off"
    >
    <div v-if="query && isActive" class="position-absolute justify-content-center" style="top: 47px;">
      <div class="card bg-secondary">
        <ul class="list-group list-group-flush px-0" v-for="(item, index) in queried" :key="index">
          <li class="list-group-item">
            <a :href="item.url" class="d-flex text-secondary">
              <span class="pr-2" v-html="item.icon"></span>
              <span class="text-body text-start" v-html="item.title"></span>
            </a>
          </li>
        </ul>
      </div>
    </div>
</div>
    </div>
  </div>
</nav>

    
  <header id="page-hero" class="site-header position-relative 100vw  site-header" style="min-height: 40vh;">
<section class="layout-hero position-absolute d-flex align-items-center" style="background-image: linear-gradient(rgba(126, 59, 151, .6) 50px, transparent), url(/images/posts/hackingbootstrap-gradients.png); height: 100%; width: 100%;  filter: blur(20px);  transform: scale(1.1);" ></section>
<div class="layout-hero-content position-absolute d-flex align-items-center w-100 h-100">
  <div class="container">
    <div class="row justify-content-center text-center">
      <div class="header-content col-11 col-sm-10 col-md-9 animated fadeInUp">
        <h2 class="page-section-title text-light">Hacking the Bootstrap 5 Carousel: Consistent Height Carousels with CSS Gradients and Object Fit</h2>
        <p class="page-section-text text-light d-none d-md-block">
          The Bootstrap Carousel is one of the the most popular components in Bootstrap 5, but we have the technology to improve it and at the same time learn about one of my favorite new css features object-position and object-fit.
        </p>
      </div>
    </div>
  </div>
</div>
</header> 



 
<article id="main-content" class="site-main container mt-3 mb-5"

>
<main class="article-content px-3 px-sm-0 container">

  <div class="row">
      <main class="article-content px-3 px-sm-0 main col-9">
      <h2 id="proportionally-cropping-and-positioning-an-image">Proportionally Cropping and Positioning an Image <a class="direct-link" href="#proportionally-cropping-and-positioning-an-image"> </a></h2>
<p>A typical Bootstrap 5 Carousel cycles through a series of images and although you can crop them to be the same proportions, sometimes you need them to fit within a specific height.</p>
<p>Here's the problem. The documentation tells you to add an an image with a class of <code>d-block w-100</code> That means that it will shrink or stretch the image to whatever height will fit in the width. But what if the images aren't exactly the same height or proportions?</p>
<iframe height="500" style="width: 100%;" scrolling="no" title="Carousel Problem" src="https://codepen.io/planetoftheweb/embed/a2b7ad19ff91e2abc857e74c387c96e8?height=265&theme-id=dark&default-tab=html,result&editable=true" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/planetoftheweb/pen/a2b7ad19ff91e2abc857e74c387c96e8'>Carousel Problem</a> by Ray Villalobos
  (<a href='https://codepen.io/planetoftheweb'>@planetoftheweb</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
<p>When the image changes so does the height of the container. If you put the carousel above some content, the content beneath the images will shift as you try to read the content. Very annoying.</p>
<h2 id="object-fit-%26-object-position-to-the-rescue">Object Fit &amp; Object Position to the rescue <a class="direct-link" href="#object-fit-%26-object-position-to-the-rescue"> </a></h2>
<p>To fix this we can use some newer CSS properties that you may have not heard of. If you're familiar with how backgrounds work, you know that you can set the <code>background-size</code> attribute to cover and it proportionally resize the background to fit the space available.</p>
<p>You can do the same thing with a regular image using <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit">object-fit</a>. To get this to look right, you can combine it with <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-position">object-position</a> to center the image.</p>
<pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">#carouselHero .carousel-item img</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">object-fit</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">object-position</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">height</span><span class="token punctuation">:</span> 50vh<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>You can also set a height with the <code>vh</code> (viewport height) measurement and add <code>overflow:hidden;</code> so any extra bit of image will get chopped off. Although <code>50vh</code> means that the image will be 50% of the viewport height in this case, you can set that to any height you want.</p>
<p>Now the image centers and fits in the space alloted proportionately. That's what I'm talking about!</p>
<iframe height="500" style="width: 100%;" scrolling="no" title="Carousel Height Fixed" src="https://codepen.io/planetoftheweb/embed/5289da10b0bd1875e6a9d00845b7aa58?height=265&theme-id=dark&default-tab=html,result&editable=true" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/planetoftheweb/pen/5289da10b0bd1875e6a9d00845b7aa58'>Carousel Height Fixed</a> by Ray Villalobos
  (<a href='https://codepen.io/planetoftheweb'>@planetoftheweb</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
<h2 id="browser-support">Browser Support <a class="direct-link" href="#browser-support"> </a></h2>
<p>The <code>object-fit</code> and <code>object-position</code> properties have pretty good modern browser support as well, so you can use them like you use background gradients whenever you need to fit an image to a container.</p>
<script src="https://cdn.jsdelivr.net/gh/ireade/caniuse-embed/public/caniuse-embed.min.js"></script>
<p class="ciu_embed" data-feature="mdn-css__properties__object-fit" data-periods="future_1,current,past_1,past_2" data-accessible-colours="false">
<h2 id="gradients-with-captions">Gradients with Captions <a class="direct-link" href="#gradients-with-captions"> </a></h2>
<p>Another problem happens when you want to put some text on top of an image, but the color of the image and the text are too similar, so the text disappears.</p>
<iframe height="500" style="width: 100%;" scrolling="no" title="Bootstrap 5 Carousel  No Gradient" src="https://codepen.io/planetoftheweb/embed/e704af499d5d29e942a15831adc6ae75?height=265&theme-id=dark&default-tab=result" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/planetoftheweb/pen/e704af499d5d29e942a15831adc6ae75'>Bootstrap 5 Carousel  No Gradient</a> by Ray Villalobos
  (<a href='https://codepen.io/planetoftheweb'>@planetoftheweb</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
<p>That's when adding a gradient can come in handy. The best way to do it is to add the gradient on top of the image, but behind the caption, so you can still select the text in the caption. To do that we can use the :before pseudo element selector. It's sort of like adding an extra element before an existing element, and then adding the gradient on that element.</p>
<pre class="language-css"><code class="language-css"><span class="highlight-line"><span class="token selector">#carouselHero .carousel-item:before</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to bottom<span class="token punctuation">,</span> transparent<span class="token punctuation">,</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.5<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>A few important things to note here. We have to include a <code>content: ''</code> property, otherwise the browser will assume this is an empty element and not display it at all.</p>
<p>You can see that I'm setting a gradient with a direction from top to bottom and transparent to 50% black. That way I can still see the photo beneath.</p>
<p>Set the display to block, and then include some metrics to make sure the gradient is in the right place.</p>
<p>The position will be absolute so that it's relative to the parent component, I'm making the gradient start 0 pixels from the top and be the full width of the browser and the same height as the parent. You can create a shorter gradient that doesn't take up the whole image if you want to as well.</p>
<p>I set the image and the gradient to be 100% of the viewport width in these examples. Now, let's take a look at our new carousel.</p>
<iframe height="500" style="width: 100%;" scrolling="no" title="Bootstrap Carousel-Gradient Overlay" src="https://codepen.io/planetoftheweb/embed/4c1525feeb827abc69f69665462e09c1?height=265&theme-id=dark&default-tab=result&editable=true" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen="true">
  See the Pen <a href='https://codepen.io/planetoftheweb/pen/4c1525feeb827abc69f69665462e09c1'>Bootstrap Carousel-Gradient Overlay</a> by Ray Villalobos
  (<a href='https://codepen.io/planetoftheweb'>@planetoftheweb</a>) on <a href='https://codepen.io'>CodePen</a>.
</iframe>
<p>Now that's some great improvements you can make to Bootstrap 5 carousels with some simple CSS.</p>

      </main>
      <aside class="aside aside-supplemental d-none d-lg-block col-lg-3 col-xl-3 mt-3">
        <h4>Contents</h4>
        <nav class="sticky-top" style="top: 100px;">
        <div class="">
                <ol>
                    
                    <li><a href="#proportionally-cropping-and-positioning-an-image">Proportionally Cropping and Positioning an Image  </a>
            		</li>

                    <li><a href="#object-fit-%26-object-position-to-the-rescue">Object Fit & Object Position to the rescue  </a>
            		</li>

                    <li><a href="#browser-support">Browser Support  </a>
            		</li>

                    <li><a href="#gradients-with-captions">Gradients with Captions  </a>
            		</li>
                </ol>
            </div>
        </nav>
      </aside>
  <div>
</main>
</article>

    <footer class="site-footer bg-transparent pb-3 pb-md-5">
      <div class="container d-flex justify-content-center"><div>
      <a class="text-decoration-none family-sans ms-3" href="https://linkedin.com/in/planetoftheweb">
      <i class="fab fa-linkedin text-secondary me-1"></i>linkedin
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://github.com/planetoftheweb">
      <i class="fab fa-github text-secondary me-1"></i>github
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://www.joinclubhouse.com/planetoftheweb">
      <i class="fas fa-user-friends text-secondary me-1"></i>clubhouse
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://twitter.com/planetoftheweb">
      <i class="fab fa-twitter text-secondary me-1"></i>twitter
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://dribbble.com/planetoftheweb">
      <i class="fab fa-dribbble text-secondary me-1"></i>dribble
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://www.flickr.com/photos/planetoftheweb/sets/72157602932636630/">
      <i class="fab fa-flickr text-secondary me-1"></i>flickr
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://www.youtube.com/user/planetoftheweb">
      <i class="fab fa-youtube text-secondary me-1"></i>youtube
      </a>
    </div><div>
      <a class="text-decoration-none family-sans ms-3" href="https://www.instagram.com/planetoftheweb">
      <i class="fab fa-instagram text-secondary me-1"></i>instagram
      </a>
    </div></div>
      <div class="text-center">
      <a href="https://www.iubenda.com/privacy-policy/85544448/cookie-policy" class="iubenda-white no-brand iubenda-embed" title="Cookie Policy ">Cookie Policy</a><script type="text/javascript">(function (w,d) {var loader = function () {var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0]; s.src="https://cdn.iubenda.com/iubenda.js"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener("load", loader, false);}else if(w.attachEvent){w.attachEvent("onload", loader);}else{w.onload = loader;}})(window, document);</script>
      <a href="https://www.iubenda.com/privacy-policy/85544448" class="iubenda-white no-brand iubenda-embed" title="Privacy Policy ">Privacy Policy</a><script type="text/javascript">(function (w,d) {var loader = function () {var s = d.createElement("script"), tag = d.getElementsByTagName("script")[0]; s.src="https://cdn.iubenda.com/iubenda.js"; tag.parentNode.insertBefore(s,tag);}; if(w.addEventListener){w.addEventListener("load", loader, false);}else if(w.attachEvent){w.attachEvent("onload", loader);}else{w.onload = loader;}})(window, document);</script>
      </div>
    </footer>

    <script>
      (function () {
        let nav = document.querySelector('.site-nav')
        let mainContent = document.querySelector('#main-content')
        let navHeight = nav.scrollHeight

        function moveHeader() {
          let mainOnTop = mainContent.getBoundingClientRect().top - navHeight

          mainOnTop < 0
            ? nav.classList.add('in-body')
            : nav.classList.remove('in-body')

          window.requestAnimationFrame(moveHeader)
        }
        window.requestAnimationFrame(moveHeader)
      })();
    </script>
    <script type="text/javascript"> var _iub = _iub || []; _iub.csConfiguration = {"consentOnContinuedBrowsing":false,"lang":"en","siteId":2197414,"cookiePolicyId":85544448, "banner":{ "acceptButtonDisplay":true,"customizeButtonDisplay":true,"position":"float-top-center" }};</script>
  <script type="text/javascript" src="//cdn.iubenda.com/cs/iubenda_cs.js" charset="UTF-8" async></script>
</body>
</html>